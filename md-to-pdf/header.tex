\usepackage[ngerman]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{listings}
\usepackage{amsmath}

\lstset{
  mathescape,
  backgroundcolor=\color{gray!30},  
  basicstyle=\ttfamily,
  frame=single,
  keepspaces=true,
  extendedchars=true
}
